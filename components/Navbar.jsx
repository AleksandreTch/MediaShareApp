import Link from "next/link";
import React, {useEffect} from "react";
import { useState } from "react";
import { useRouter } from "next/router";
import { AiOutlineClose, AiOutlineMail, AiOutlineMenu } from "react-icons/ai";


const Navbar = (props) => {
    const router = useRouter();
    const [nav, setNav] = useState(false);
    const [showImage, setShowImage] = useState(false);
    const [showPlayerNav, setShowPlayerNav] = useState(true);


    useEffect(() => {
      if(router.pathname === '/player'){
        setShowImage(true);
        setShowPlayerNav(false);
      } else if(router.pathname === '/about'){
        setShowImage(false);
        setShowPlayerNav(false);
      } else {
        setShowImage(true);
      }
    });

    const handleNav = () => {
        setNav(!nav)
    }



  return (
    <div className="fixed flex w-full h-20 shadow-xl z-[100]"
          onClick={handleNav}>
            {showImage && !nav ? <img src={props.imgSrc} className="opacity-0 md:opacity-[1] w-[75px] ml-[2rem] mt-1 animate-nonVisible md:animate-fadeIn"/> : ''}
      <div className="flex items-center justify-end w-full h-full px-2 2xl:px-16">
        <div  className="scale-[1.25] pr-2"
                onClick={handleNav}>
            <AiOutlineMenu
              size={25}
              style={{ 
                marginLeft:'auto',
                color: "#D2AE6D", cursor: "pointer" }}
            />
          </div>
      </div>
      
      <div className={nav ? "fixed right-0 top-0 w-full h-screen bg-black/70" : ''}>
        <div className={nav ? 
            "fixed right-0 top-0 w-[100vw] md:w-[20rem]  h-screen bg-black p-10 ease-in-out duration-500" : 
            "fixed right-[-100%] top-0  p-10 ease-in duration-500"}>
          <div>
            <div className="flex items-center justify-between w-full">
              <Link href='/'>
              <svg
                style={{
                  paddingLeft: ".25rem",
                  transform:"scale(1.55)"
                }}
                width="91.84"
                height="65.4"
                viewBox="0 0 287 195"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M156.609 51.6823C152.094 51.1354 147.771 53.6667 146.021 57.8802C144.266 62.0937 145.521 66.9635 149.083 69.7969C147.63 66.401 147.609 62.5573 149.031 59.1406C150.448 55.7292 153.188 53.0365 156.609 51.6823ZM195.802 0.770828C202.729 22.3802 192.896 40.0365 166.302 53.7344C184.786 39.6406 194.62 21.9844 195.802 0.770828ZM88.0104 0.770828C81.0833 22.3802 90.9167 40.0365 117.51 53.7344C99.0312 39.6406 89.1979 21.9844 88.0104 0.770828ZM75.4687 11.8594C74.625 32.4896 87.9271 50.5677 115.385 66.0833C130.792 76.2344 140.224 88.5104 130.698 107.583C126.484 116.016 118.786 122.161 109.651 124.385C119.146 123.516 127.844 118.677 133.609 111.057C150.323 88.9948 136.51 71.7812 116.578 59.9635C92.6198 44.9062 78.9167 28.875 75.4687 11.8594ZM115.307 134.276C124.99 130.427 132.958 122.74 137.016 112.635C131.099 121.214 122.135 126.906 112.25 128.786C113.104 130.729 114.13 132.563 115.307 134.276ZM143.328 113.594C143.771 125.266 146.927 136.615 152.479 146.76C149.578 147.833 146.505 148.51 143.328 148.74V113.594ZM145.365 112.516C147.839 123.844 155.292 133.208 165.312 138.24C162.969 140.74 160.255 142.859 157.281 144.536C149.964 135.578 145.698 124.339 145.365 112.516ZM168.505 134.276C158.823 130.427 150.859 122.74 146.797 112.635C152.714 121.214 161.677 126.906 171.562 128.786C170.708 130.729 169.682 132.563 168.505 134.276ZM140.484 113.594C140.042 125.266 136.885 136.615 131.339 146.76C134.234 147.833 137.307 148.51 140.484 148.74V113.594ZM138.453 112.516C135.974 123.849 128.521 133.208 118.5 138.24C120.844 140.74 123.557 142.859 126.536 144.536C133.854 135.578 138.115 124.339 138.453 112.516ZM208.339 11.8594C209.193 32.4896 195.885 50.5677 168.427 66.0833C153.026 76.2396 143.589 88.5104 153.115 107.583C157.328 116.021 165.026 122.167 174.167 124.385C164.667 123.516 155.974 118.682 150.203 111.057C133.49 89 147.302 71.7812 167.234 59.9635C191.193 44.9115 204.896 28.875 208.344 11.8594H208.339ZM63.7604 18.5781C61.5677 41.1771 74.9114 56.3281 103.797 64.0469C82.75 54.2135 69.4062 39.0573 63.7604 18.5781ZM88.9635 104.75C103.042 109.995 118.859 104.677 126.953 91.974C114.693 99.8177 102.031 104.078 88.9635 104.75ZM128.354 98.599C129.021 106.521 124.505 113.964 117.187 117.005C109.875 120.047 101.437 117.99 96.3281 111.911C102.224 115.25 109.318 115.682 115.573 113.083C121.823 110.484 126.536 105.141 128.354 98.599ZM82.5833 95.5365C89.9115 100.776 99.8906 100.177 106.542 94.099C98.2344 96.7083 90.25 97.1927 82.5833 95.5365ZM131.641 89.1146C119.37 74.9115 90.7604 91.0417 71.5312 81.6823C85.1667 104.719 111.005 81.2969 131.641 89.1146ZM57.9062 58.7656C62.5729 74.9531 78.0677 81.4687 104.391 78.3177C80.5208 76.2552 65.026 69.7396 57.9062 58.7656ZM58.9844 44.3698C70.2031 64.4479 116.214 66.5052 127.698 81.5573C106.036 73.3177 62.2708 69.8437 58.9844 44.3698ZM143.406 52.2865C150.531 47.5885 156.484 46.151 161.271 47.9687C157.562 43.3281 153.24 42.4687 148.307 45.3906C145.365 43.8594 142.875 43.8594 140.839 45.3906C138.161 46.4323 135.13 45.8698 132.995 43.9479C130.865 42.0208 129.99 39.0521 130.74 36.2708C128.411 40.9844 129.828 46.6979 134.089 49.7656C132.292 50.8594 129.984 50.6042 128.469 49.1406C126.958 47.6771 126.615 45.3698 127.635 43.5312C125.292 46.3958 124.724 50.3281 126.172 53.7448C127.615 57.1562 130.823 59.4844 134.505 59.7812C133.104 63.6927 133.708 68.0417 136.12 71.4167C135.724 65.4583 137.297 59.5365 140.599 54.5625C137.484 56.0677 133.776 55.5729 131.156 53.3073C134.172 53.0937 137.516 51.6562 141.198 48.9844C145.937 46.125 146.677 47.224 143.406 52.2865ZM194.854 104.75C180.771 109.995 164.953 104.677 156.859 91.974C169.12 99.8177 181.781 104.078 194.854 104.75ZM155.458 98.599C154.792 106.521 159.307 113.964 166.625 117.005C173.943 120.047 182.375 117.99 187.484 111.911C181.589 115.25 174.495 115.682 168.24 113.083C161.99 110.484 157.276 105.141 155.458 98.599ZM201.229 95.5365C193.901 100.776 183.927 100.177 177.271 94.099C185.583 96.7083 193.568 97.1927 201.229 95.5365ZM152.177 89.1146C164.448 74.9115 193.052 91.0417 212.281 81.6823C198.646 104.719 172.807 81.2969 152.177 89.1146ZM225.906 58.7656C221.245 74.9531 205.75 81.4687 179.422 78.3177C203.292 76.2552 218.786 69.7396 225.906 58.7656ZM224.833 44.3698C213.609 64.4479 167.604 66.5052 156.12 81.5573C177.776 73.3177 221.542 69.8437 224.833 44.3698ZM220.052 18.5781C222.245 41.1771 208.901 56.3281 180.016 64.0469C201.062 54.2135 214.406 39.0573 220.052 18.5781Z"
                  fill="#D2AE6D"
                />
                
              </svg>
              </Link>
              <div className="mb-auto scale-150 cursor-pointer  
                            text-[#D2AE6D] ease-in-out duration-500
                            border-[transparent]
                            hover:text-black
                            hover:p-[1px] 
                            hover:border-[1px]
                            hover:bg-[red] 
                            hover:rounded-[100%] 
                            hover:border-red-600"
                    onClick={handleNav}>
                <AiOutlineClose
                />
              </div>
            </div>
          </div>
          <div className=" bg-[#D2AE6D] border-[1.5px] border-[#D2AE6D] mt-2 ">
          </div>
          <div >
            <ul>
              <Link href="/">
                <li className="py-4 uppercase text-[1.55rem] md:text-[1rem] text-[#D2AE6D] hover:text-[white]">
                  Home
                </li>
              </Link>
              <Link href="/about">
                <li className="py-4 uppercase text-[1.55rem] md:text-[1rem] text-[#D2AE6D] hover:text-[white]">
                  About
                </li>
              </Link>
              {showPlayerNav ? <Link href="/player">
                <li className="py-4 uppercase text-[1.55rem] md:text-[1rem] text-[#D2AE6D] hover:text-[white]">
                  Relock
                </li>
              </Link> : ''}
            </ul>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Navbar;
